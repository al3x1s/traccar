/*
 * Copyright 2016 alexis.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.traccar.protocol;

import org.junit.Assert;
import org.junit.Test;
import org.traccar.ProtocolTest;


/**
 *
 * @author alexis
 */
public class TotemImageProtocolDecoderTest extends ProtocolTest {
    
    @Test
    public void testDecode() throws Exception {

        TotemImageProtocolDecoder decoder = new TotemImageProtocolDecoder(new TotemProtocol());
        
        //Image
        Assert.assertNull(decoder.decode(null, null, binary("2456383633373731303235383433373636303030303330313830303131363038303330363039353631333433353336384e30383934333132373757ffd8ffdb008400140e0f120f0d14121012171514181e32211e1c1c1e3d2c2e243249404c4b47404645505a736250556d5645466488656d777b8182814e608d978c7d96737e817c011517171e1a1e3b21213b7c5346537c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7cffc000110800f0014003012100021101031101ffdd0004000affc401a2000001050101010101010000000000230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("245638363337373130323538343337363630303030333031383030320000000102030405060708090a0b100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9fa01000301010101230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("2456383633373731303235383433373636303030303330313830303301010101010000000000000102030405060708090a0b1100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303034faffda000c03010002110311003f00e6156a45140126da7018a007a8a9146680255522a74563da802c2479ed53ac62802554a9025003c253bcacd00288714a57d6801369ed49b1a801bb7d4526d1401fffd0bc5699b2801a52936d001b69a56801bb698c940103ad559128029cc954265c1a00871498a004a2800a2800a2803fffd1e6d454aa2801e051de80254153a2d00588d3356112802755a9152802658cd4ab1d004aa87d29db28002b47963bd0026d1498a004d94d318a00ffd2d629ed5195a00695a42b40230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("2456383633373731303235383433373636303030303330313830303508569a56801a5698cb40103ad56916802a4a959f3a5005420d3714009494005140051401ffd3e794548a2801f826a4441e940132c75322500598d6aca25004c12a68d2802cac62a409400e0869db28010ad2eccd00218c534a0a00694a4db401ffd4dd65f4a8ca7ad0021414c282801a529a56801a5698cb4010bad57916802a4ab54674c8340141c60d30d00318714ca0028a0028a00fffd5c04152aa9a00942d48aa6802655356224f5a00b891fa55a8a3f5a009c460d3d2202802c2af1c53d50d003c2d1b6800230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303036d99a5f2e80031d34a63b50034afb534c79a00fffd6e90c78a614140119514d2b400d2b4d29400cdb4d2b4010bad40e94015254aa532500674e98355c8a006b0e2a2a0028a0028a00ffd7c541e952aa1a009318a96342d40176286aca442802ca47e82aca478eb40132a54cb103401204c74a728f5a007e28db400a051400629a7e9400d229a45007ffd0ea4a54652801a4530a8a006114d2280136d34ad0044e9503a50055952a94a94019f731f1541860d0030d4478340094500145007fffd1ca402a507d280248230d0a")));        
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303037e32c79abd0c58ed4017238ea748f9a00b289532c64f4a0099213532c78eb400ec6296800a2800a2800a280129368a00fffd2ebca546c9401198e986322801a47a8a4db400ddb4d2b400c64a81d2802b48954e54a00cfb88f8359732e1a802135138f9a801b4500145007ffd3a11c05aaca401680264500f15722426802dc71d5948e802748eac2ad003c0a5a0028a0028a0028a0028a0028a00fffd4ec8d308cd003765214a00632530a50034a534ad003196a175a00af225549528028ce99cd65dd47d4d0051239230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303038a8a41d28023a2800a2803fffd5952200535b19a009218f26af4498a00b68b56635e2802654a7d002d14005140051400514005140051401ffd6ece92800c5211400c2b4d2b400c229a56801856a275a008244e2aa4a94014e54acdb98fad0064cabb5aa1907cb4010d140051401ffd7b19cd44c39a00b56eb9ad08d6802ca25598c0039a007d2d001450014500145001450014500145007ffd0ece8a0028a006914841a00695a691400d2b513ad0040eb55a54a00a722f1542e1280322ee3c1cd5161c114015e8a00230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("2456383633373731303235383433373636303030303330313830303928a00fffd1b245302ee6a00bf045802aec4940171138a9280168a0028a0028a0028a0028a0028a0028a00fffd2ece8a0028a00292800c5215a00695a8d92802075aaf22d0052917ad529d28032eee3c8359322ed6a00aa460d2500145007ffd3b98a235f9e8034625e2adc4b834016874a5a0028a0028a0028a0028a0028a0028a0028a00fffd4ece8a0028a0028a0028a004c535850042eb9aaf22d0053956a94cb4019d709d6b1aea3c1340141c7cc69940051401fffd5b84e2a7b74c9cd006844b56e34a00929230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("245638363337373130323538343337363630303030333031383031306800a2800a2800a2800a2800a2800a2800a2803fffd6ece8a0028a0028a0028a002928018c2ab48bcd0054956a9cab40142e133593771f5a00c79970f51500145007ffd7b6a0b1abf6e9802802fc4b5640c0a005a2800a2800a2800a2800a2800a2800a2800a2803ffd0ece8a0028a0028a0028a0028a006919a86414015251552514014275e2b32e53ad00625da6181aaa680128a00ffd1d245abb08a00bd10a9a800a2800a2800a2800a2800a2800a2800a2800a2803ffd2ece8a0028a0028a0028a0028a004a8230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("245638363337373130323538343337363630303030333031383031319c50056945539450052985675c2f5a00c7bc8f20d659e280128a00ffd3d88d2ad46b4016e218a9a800a2800a2800a2800a2800a2800a2800a2800a2803ffd4ece8a0028a0028a0028a0028a004a638a00ad20aa928a00a528eb54275eb40195749c1ac89d36b668021a2803fffd5dd8c5598c5005a4e94fa0028a0028a0028a0028a0028a0028a0028a0028a00ffd6ece8a0028a0028a0028a0028a00298fd2802b3f4aab20eb4014a51c9aa338eb4019b70b9cd655c26722802911838349401ffd7e8105598c500230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("245638363337373130323538343337363630303030333031383031325951814b4005140051400514005140051400514005140051401fffd0ece8a0028a0028a0028a0028a00298e38a00ad25569680294c2a8cb4014271c566cebcd00519d30722a0a00fffd1e892aca5004e3a52d0014500145001450014500145001450014500145007ffd2ece8a0028a0028a0028a0028a00298e78a00acfd2aa4bd6802a4b54a6a00a535674cb4015255ca9aa4460e2803ffd3e89180ab31906802714b4005140051400514005140051400514005140051401fffd4ece8a0028a0028a0028a0028a0230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303133042715139a008243556534014e4aa72d005297bd5194500557154a65c35007ffd5dd504d5a88e2802d29c8a750014500145001450014500145001450014500145007ffd6ece8a0028a0028a0028a0028a006b542e6802bb9cd5696802a4a6a9ca78a00a72553945005571552e178a00fffd7e812a75a009e36ed52d0014500145001450014500145001450014500145007ffd0ece8a0028a0028a0028a0028a00639aaf21a00aef55a534015253c55490d005492aac940159c5559c654d007ffd1df43562334013a230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303134ae6a4a005a2800a2800a2800a2800a2800a2800a2800a2803fffd2ece8a0028a0028a0028a0029334011b9aace6802076cd5594d005490d5573d6802a486ab39cd0042c38aad30e2803fffd3de4356233401611aa4a005a2800a2800a2800a2800a2800a2800a2800a2803ffd4ece8a0028a0028a0028a004cd358d0042e78aad21a0081cd5690e6802aca6aab9e0d005490d566a0069e95566a00ffd5da8cd5843401610d48adcd004b4500145001450014500145001450014500145007ffd6ece8a0028a0028a0230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303135029add38a008c823bd319cd0044edc55666e6802191aabbb7140156435565340152435013cd0021e955a6e9401ffd7d657a955c9e940166373532b5004cad9a7d00145001450014500145001450014500145007fffd0ece8a0028a004a01cd0004e29b9a0089dea326802bcad509a00824aaee6802b48d55256eb4014e43cd328006e95566a00fffd1bf1927bd598f8a00b08d5329a009d1b1520607bd002d2d001450014500145001450014500145007fffd2ece8a00292800a6e79a006b3544d2761400c269a5a230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303136802b4ad96a8dce05005790d5673c5005590d5595a802a39e69168006355253401fffd3b71b62ad46d401614f15223734012839a9528024e94f073400b450014500145001450014500145007fffd4ece8a004cd26ea0042d4d66a00aed2734ddc2801b924fa535db02802b13939351bb5005791aab48d4015646aa92b71401589e69cbd2801ae6aa4a6803fffd5955bd2ac4525005a57a915f9a009d4d4cad401286a39ec6801eb9ef4fa0028a0028a0028a0028a004a5a00ffd6ec89c5275a00422a362474a00667230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("24563836333737313032353834333736363030303033303138303137d4d31dcfad00424f347e3400849f5a89c9f5a00ae5b351b1f5a00af23d5591a802abb64d5699a802be79a7e78a008dcd5690d007ffd711b9ab0879a00b28dc54a8dcd005846a955a8025069e0d0038353b7668014134ea005a2800a2801290827bd00006283401ffd0ec381485a801acf5196cd0042e71de9bf7bbd00210052640a00633d42cd914015d89078a85d8d0040e6aaca6802b48d55256a0062d3fb5004521aace79a00fffd18636ab31bd005847a991a802746a995a802456a9035003835383500383d3230d0a")));
        Assert.assertNull(decoder.decode(null, null, binary("2456383633373731303235383433373636303030303330313830313883e680173ef46ef7a0001f7a52de940099a0b81400df333d28dd401fffd2eac9f7a427de8018cd4dcd0044f4cdd8e940016e2a167e783400c2698ce00a00859b350b1a00aeed55646a00ab2bd547393400e5a713c50040e6a063401fffd9230d0a")));
        
        //Position
        Assert.assertEquals(
                binary("242442393836333737313032353834333736367c3630244750524d432c3036313030382e3030302c412c313334332e353336392c4e2c30383934332e313237302c572c302e30302c3333392e38342c3033303831362c2c2c412a37347c30322e327c30312e317c30312e397c3030303030303030303030307c32303136303830333036313030387c31333837313236397c30303033303030317c30303238313337337c303030307c302e303030307c303033377c7c353136450d0a"),
                decoder.decode(null, null, binary("242442393836333737313032353834333736367c3630244750524d432c3036313030382e3030302c412c313334332e353336392c4e2c30383934332e313237302c572c302e30302c3333392e38342c3033303831362c2c2c412a37347c30322e327c30312e317c30312e397c3030303030303030303030307c32303136303830333036313030387c31333837313236397c30303033303030317c30303238313337337c303030307c302e303030307c303033377c7c353136450d0a")));

    }
    
}
